<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
</head>
<body>
    <canvas id="canvas">No support canvas</canvas>
    <script>
/*1. Proszę przygotować animację, w której wyścigówka (prostokąt z kołam) jedzie na wprost po drodze.Jako drogę proszę wykorzystać szary prostokąt (od góry do dołu) z białą przerywaną linią (białe prostokąty) na środku oraz biało czerwonymi liniami po bokach, które się przesuwają (symulując ruch). Sterowanie należy zrealizować za pomocą strzałek/kursorów.
2. Proszę dodać pojawiające się przeszkody, które należy omijać
3. Proszę dodać "bonusy", które należy "zbierać" samochodem po najechaniu na nie. Liczbę zdobytych bonusów proszę przedstawić w formie punktacji (jako część canvasa, a nie labela poza nim).*/var c = document.getElementById("canvas");
    var canv = c.getContext("2d");
    canv.canvas.width  = 800;
    canv.canvas.height = 600;
    var positionP = 0;
    var yPositionP = 0;
    var positionRB = 0;
    var ypositionRB =0;
    var distanceLoop = 0;
    var positionCar = 0;
    var accCar = 0;
    var accCarTick = 0;

    document.addEventListener('keydown', function(e) {
        if(e.keyCode==37 ){
            carLeft();
        }
        if(e.keyCode==39 ){
            carRight();
        }
        
    }, false);

 function draw(){
    canv.clearRect(0, 0, 800, 600);
        
        drawRoad();
        drawCar();
        drawPoint();
        drawPoint();
        drawRoadBlock();
        drawP()

        distanceLoop++;
        if(distanceLoop >200) distanceLoop=0;




 }

   function drawRoad(){
        for(let i = 0; i < 10; i++){
            canv.fillStyle  = "red";
            canv.fillRect(150, -200+0+i*50*2+distanceLoop, 30, 50);
            canv.fillStyle  = "white";
            canv.fillRect(150, -200+50+i*50*2+distanceLoop, 30, 50);
        }

        for(let i = 0; i < 10; i++){
            canv.fillStyle  = "red";
            canv.fillRect(550, -200+0+i*50*2+distanceLoop, 30, 50);
            canv.fillStyle  = "white";
            canv.fillRect(550, -200+50+i*50*2+distanceLoop, 30, 50);
        }
            canv.fillStyle  = "black";
            canv.fillRect(180, 0, 550-180, 600);

        for(let i = 0; i < 4; i++){
            canv.fillStyle  = "white";
            canv.fillRect(265, -200+0+i*200+distanceLoop, 15, 100);
            canv.fillRect(365, -200+0+i*200+distanceLoop, 15, 2000);
            canv.fillRect(465, -200+0+i*200+distanceLoop, 15, 100);
        }
    }

    function drawCar(){
        canv.fillStyle  = "blue";
        canv.fillRect(200+positionCar, 500, 30, 50);
        
        canv.fillStyle  = "white";
        canv.fillRect(195+positionCar, 510, 5, 15);
        canv.fillStyle  = "white";
        canv.fillRect(230+positionCar, 510, 5, 15);
        
        canv.fillStyle  = "white";
        canv.fillRect(195+positionCar, 530, 5, 15);
        canv.fillStyle  = "white";
        canv.fillRect(230+positionCar, 530, 5, 15);
        
        
    }   

    function drawPoint(){
        
        canv.beginPath();
        canv.fillStyle = 'green';
        canv.arc(220+positionP*100, -30+yPositionP, 7, 0, 2 * Math.PI, false);
        canv.fill();
        canv.stroke();
        
    }  

    function carMove(){
        
        if(accCarTick>0){
            accCarTick--;
            positionCar += accCar;
        } else {
            accCar = 0;
        }
    }

    function carLeft(){

        if(accCarTick==0){
            accCar-=2
            accCar=50;
        }

    }

    function carRight(){
        if (accCarrTick=0){
            accCar-=2;
            accCar=50;
        }

    }
    function carCollision(){

    }


    function drawPoint(){


    }

    function drawRoadBlock(){

    }
    setinterval(draw,5);

</script>
</body>
</html>